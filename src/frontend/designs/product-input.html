<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>产品信息录入 - TradeFlow</title>
    <link rel="stylesheet" href="./assets/css/common.css">
    <style>
        /* 产品录入页面专用样式 */
        .page-layout {
            min-height: 100vh;
            background: var(--gray-50);
        }
        
        .page-header {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            box-shadow: var(--shadow-sm);
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .header-content {
            display: flex;
            align-items: center;
            justify-content: between;
            padding: var(--spacing-lg) 0;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: var(--spacing-lg);
        }
        
        .back-btn {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            background: none;
            border: 1px solid var(--gray-300);
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--radius-md);
            color: var(--gray-600);
            cursor: pointer;
            transition: all var(--transition-fast);
            text-decoration: none;
        }
        
        .back-btn:hover {
            background: var(--gray-50);
            border-color: var(--gray-400);
        }
        
        .page-title h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--gray-900);
            margin: 0 0 var(--spacing-xs) 0;
        }
        
        .page-subtitle {
            font-size: 0.875rem;
            color: var(--gray-500);
            margin: 0;
        }
        
        .progress-indicator {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .progress-bar {
            width: 200px;
            height: 8px;
            background: var(--gray-200);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary-blue);
            width: 60%;
            transition: width var(--transition-normal);
        }
        
        .progress-text {
            font-size: 0.875rem;
            color: var(--gray-600);
            font-weight: 500;
        }
        
        /* 主要内容区域 */
        .main-content {
            padding: var(--spacing-xl) 0;
        }
        
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }
        
        .form-header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            padding: var(--spacing-xl);
            text-align: center;
        }
        
        .form-header h2 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 0 0 var(--spacing-sm) 0;
            color: white;
        }
        
        .form-header p {
            opacity: 0.9;
            margin: 0;
            line-height: 1.6;
        }
        
        .form-body {
            padding: var(--spacing-3xl);
        }
        
        /* 表单步骤 */
        .form-steps {
            display: flex;
            justify-content: center;
            margin-bottom: var(--spacing-3xl);
            position: relative;
        }
        
        .form-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 2px;
            background: var(--gray-200);
            z-index: 1;
        }
        
        .form-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--spacing-sm);
            position: relative;
            z-index: 2;
            background: var(--gray-50);
            padding: var(--spacing-sm);
            border-radius: var(--radius-md);
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gray-300);
            color: var(--gray-600);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .form-step.active .step-number {
            background: var(--primary-blue);
            color: white;
        }
        
        .form-step.completed .step-number {
            background: var(--success-color);
            color: white;
        }
        
        .step-label {
            font-size: 0.75rem;
            color: var(--gray-600);
            text-align: center;
            font-weight: 500;
        }
        
        .form-step.active .step-label {
            color: var(--primary-blue);
        }
        
        /* 表单区域 */
        .form-section {
            margin-bottom: var(--spacing-2xl);
        }
        
        .section-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: var(--spacing-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .section-icon {
            font-size: 1.25rem;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
        }
        
        .form-group {
            margin-bottom: var(--spacing-lg);
        }
        
        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-700);
            margin-bottom: var(--spacing-sm);
        }
        
        .form-label.required::after {
            content: ' *';
            color: var(--error-color);
        }
        
        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            font-size: 1rem;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            background-color: white;
            transition: all var(--transition-fast);
            font-family: inherit;
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
            line-height: 1.5;
        }
        
        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 4px rgba(26, 86, 219, 0.1);
        }
        
        .form-help {
            margin-top: var(--spacing-xs);
            font-size: 0.75rem;
            color: var(--gray-500);
            line-height: 1.4;
        }
        
        .form-error {
            margin-top: var(--spacing-xs);
            font-size: 0.75rem;
            color: var(--error-color);
        }
        
        /* 文件上传区域 */
        .upload-area {
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius-lg);
            padding: var(--spacing-2xl);
            text-align: center;
            background: var(--gray-50);
            transition: all var(--transition-fast);
            cursor: pointer;
        }
        
        .upload-area:hover,
        .upload-area.dragover {
            border-color: var(--primary-blue);
            background: var(--primary-blue-light);
        }
        
        .upload-icon {
            font-size: 3rem;
            color: var(--gray-400);
            margin-bottom: var(--spacing-md);
        }
        
        .upload-area:hover .upload-icon,
        .upload-area.dragover .upload-icon {
            color: var(--primary-blue);
        }
        
        .upload-text {
            font-size: 1rem;
            color: var(--gray-700);
            margin-bottom: var(--spacing-sm);
        }
        
        .upload-subtext {
            font-size: 0.875rem;
            color: var(--gray-500);
        }
        
        .file-input {
            display: none;
        }
        
        /* 已上传文件列表 */
        .uploaded-files {
            margin-top: var(--spacing-lg);
        }
        
        .file-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            padding: var(--spacing-md);
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-sm);
        }
        
        .file-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-blue-light);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-blue);
            font-size: 1.25rem;
        }
        
        .file-info {
            flex: 1;
        }
        
        .file-name {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-900);
            margin-bottom: 2px;
        }
        
        .file-size {
            font-size: 0.75rem;
            color: var(--gray-500);
        }
        
        .file-actions {
            display: flex;
            gap: var(--spacing-sm);
        }
        
        .file-action-btn {
            background: none;
            border: none;
            padding: var(--spacing-sm);
            border-radius: var(--radius-sm);
            cursor: pointer;
            color: var(--gray-500);
            transition: all var(--transition-fast);
        }
        
        .file-action-btn:hover {
            background: var(--gray-100);
            color: var(--gray-700);
        }
        
        .file-action-btn.delete:hover {
            background: var(--error-color);
            color: white;
        }
        
        /* 价格输入组件 */
        .price-input-group {
            display: flex;
            gap: var(--spacing-md);
        }
        
        .price-input {
            flex: 1;
            position: relative;
        }
        
        .price-input .form-input {
            padding-left: 40px;
        }
        
        .price-prefix {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-500);
            font-weight: 500;
        }
        
        /* 分类选择器 */
        .category-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
        }
        
        .category-option {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            cursor: pointer;
            transition: all var(--transition-fast);
            text-align: center;
        }
        
        .category-option:hover {
            border-color: var(--primary-blue);
            background: var(--primary-blue-light);
        }
        
        .category-option.selected {
            border-color: var(--primary-blue);
            background: var(--primary-blue);
            color: white;
        }
        
        .category-icon {
            font-size: 2rem;
            margin-bottom: var(--spacing-sm);
        }
        
        .category-name {
            font-size: 0.875rem;
            font-weight: 500;
        }
        
        /* AI建议面板 */
        .ai-suggestions {
            background: linear-gradient(135deg, var(--accent-color) 0%, #0891b2 100%);
            color: white;
            padding: var(--spacing-xl);
            border-radius: var(--radius-lg);
            margin: var(--spacing-xl) 0;
        }
        
        .ai-suggestions h3 {
            font-size: 1.125rem;
            margin: 0 0 var(--spacing-md) 0;
            color: white;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .suggestion-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .suggestion-item {
            padding: var(--spacing-sm) 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .suggestion-item:last-child {
            border-bottom: none;
        }
        
        .suggestion-item:hover {
            background: rgba(255, 255, 255, 0.1);
            padding-left: var(--spacing-sm);
            border-radius: var(--radius-sm);
        }
        
        /* 表单底部操作 */
        .form-actions {
            padding: var(--spacing-xl);
            border-top: 1px solid var(--gray-200);
            background: var(--gray-50);
            display: flex;
            justify-content: between;
            align-items: center;
            gap: var(--spacing-md);
        }
        
        .form-actions-left {
            display: flex;
            gap: var(--spacing-md);
        }
        
        .form-actions-right {
            display: flex;
            gap: var(--spacing-md);
        }
        
        .btn-save-draft {
            background: white;
            border: 1px solid var(--gray-300);
            color: var(--gray-700);
            padding: 12px 24px;
            border-radius: var(--radius-lg);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .btn-save-draft:hover {
            background: var(--gray-50);
            border-color: var(--gray-400);
        }
        
        .btn-continue {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 12px 32px;
            border-radius: var(--radius-lg);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .btn-continue:hover:not(:disabled) {
            background: var(--primary-blue-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-continue:disabled {
            background: var(--gray-300);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: var(--spacing-md);
                align-items: flex-start;
            }
            
            .progress-indicator {
                width: 100%;
            }
            
            .progress-bar {
                flex: 1;
            }
            
            .form-body {
                padding: var(--spacing-xl);
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .form-steps {
                flex-wrap: wrap;
                gap: var(--spacing-md);
            }
            
            .price-input-group {
                flex-direction: column;
            }
            
            .category-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .form-actions {
                flex-direction: column;
                align-items: stretch;
            }
            
            .form-actions-left,
            .form-actions-right {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 480px) {
            .form-container {
                border-radius: 0;
                margin: 0 -var(--spacing-md);
            }
            
            .form-body {
                padding: var(--spacing-lg);
            }
            
            .category-selector {
                grid-template-columns: 1fr;
            }
            
            .upload-area {
                padding: var(--spacing-xl);
            }
        }
        
        /* 动画效果 */
        .form-section {
            opacity: 0;
            transform: translateY(20px);
            animation: sectionSlideIn 0.5s ease-out forwards;
        }
        
        @keyframes sectionSlideIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .form-section:nth-child(2) { animation-delay: 0.1s; }
        .form-section:nth-child(3) { animation-delay: 0.2s; }
        .form-section:nth-child(4) { animation-delay: 0.3s; }
    </style>
</head>
<body>
    <div class="page-layout">
        <!-- 页面头部 -->
        <header class="page-header">
            <div class="container">
                <div class="header-content">
                    <div class="header-left">
                        <a href="chat.html" class="back-btn">
                            ← 返回对话
                        </a>
                        <div class="page-title">
                            <h1>产品信息录入</h1>
                            <p class="page-subtitle">详细描述您的产品，让AI为您匹配最合适的海外买家</p>
                        </div>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-bar">
                            <div class="progress-fill"></div>
                        </div>
                        <span class="progress-text">第2步，共3步</span>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- 主要内容 -->
        <main class="main-content">
            <div class="container">
                <div class="form-container">
                    <!-- 表单头部 -->
                    <div class="form-header">
                        <h2>🎯 让我们了解您的产品</h2>
                        <p>越详细的产品信息，AI就能为您找到越精准的买家匹配</p>
                    </div>
                    
                    <!-- 表单步骤指示器 -->
                    <div class="form-body">
                        <div class="form-steps">
                            <div class="form-step completed">
                                <div class="step-number">✓</div>
                                <div class="step-label">基本信息</div>
                            </div>
                            <div class="form-step active">
                                <div class="step-number">2</div>
                                <div class="step-label">产品详情</div>
                            </div>
                            <div class="form-step">
                                <div class="step-number">3</div>
                                <div class="step-label">AI分析</div>
                            </div>
                        </div>
                        
                        <form id="productForm">
                            <!-- 产品分类 -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-icon">📦</span>
                                    产品分类
                                </h3>
                                
                                <div class="category-selector">
                                    <div class="category-option" onclick="selectCategory(this, 'electronics')">
                                        <div class="category-icon">💡</div>
                                        <div class="category-name">电子电器</div>
                                    </div>
                                    <div class="category-option selected" onclick="selectCategory(this, 'lighting')">
                                        <div class="category-icon">🔆</div>
                                        <div class="category-name">照明灯具</div>
                                    </div>
                                    <div class="category-option" onclick="selectCategory(this, 'machinery')">
                                        <div class="category-icon">⚙️</div>
                                        <div class="category-name">机械设备</div>
                                    </div>
                                    <div class="category-option" onclick="selectCategory(this, 'textile')">
                                        <div class="category-icon">🧵</div>
                                        <div class="category-name">纺织服装</div>
                                    </div>
                                    <div class="category-option" onclick="selectCategory(this, 'furniture')">
                                        <div class="category-icon">🪑</div>
                                        <div class="category-name">家具建材</div>
                                    </div>
                                    <div class="category-option" onclick="selectCategory(this, 'other')">
                                        <div class="category-icon">📋</div>
                                        <div class="category-name">其他产品</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 基本信息 -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-icon">📝</span>
                                    基本信息
                                </h3>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label required" for="productName">产品名称</label>
                                        <input 
                                            type="text" 
                                            id="productName" 
                                            class="form-input" 
                                            placeholder="请输入产品名称"
                                            value="LED智能灯泡"
                                            required
                                        >
                                        <div class="form-help">产品的准确名称，便于买家搜索和识别</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="productModel">产品型号</label>
                                        <input 
                                            type="text" 
                                            id="productModel" 
                                            class="form-input" 
                                            placeholder="请输入产品型号"
                                            value="SL-LED-001"
                                        >
                                        <div class="form-help">具体的产品型号或规格编码</div>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label required" for="productDescription">产品描述</label>
                                    <textarea 
                                        id="productDescription" 
                                        class="form-textarea" 
                                        placeholder="详细描述您的产品特点、用途、优势等..."
                                        required
                                    >高品质LED智能灯泡，支持WiFi连接和手机APP控制，可调节亮度和色温，节能环保，使用寿命长达50000小时。适用于家庭、办公室和商业场所的照明需求。</textarea>
                                    <div class="form-help">详细的产品描述有助于AI更好地理解您的产品并匹配合适的买家</div>
                                </div>
                            </div>
                            
                            <!-- 技术规格 -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-icon">⚡</span>
                                    技术规格
                                </h3>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label" for="power">功率</label>
                                        <input 
                                            type="text" 
                                            id="power" 
                                            class="form-input" 
                                            placeholder="如：9W"
                                            value="9W"
                                        >
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="voltage">电压</label>
                                        <input 
                                            type="text" 
                                            id="voltage" 
                                            class="form-input" 
                                            placeholder="如：AC 85-265V"
                                            value="AC 85-265V"
                                        >
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="colorTemp">色温</label>
                                        <input 
                                            type="text" 
                                            id="colorTemp" 
                                            class="form-input" 
                                            placeholder="如：2700K-6500K"
                                            value="2700K-6500K"
                                        >
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="lifespan">使用寿命</label>
                                        <input 
                                            type="text" 
                                            id="lifespan" 
                                            class="form-input" 
                                            placeholder="如：50000小时"
                                            value="50000小时"
                                        >
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 价格信息 -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-icon">💰</span>
                                    价格信息
                                </h3>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label required" for="unitPrice">单价范围</label>
                                        <div class="price-input-group">
                                            <div class="price-input">
                                                <span class="price-prefix">$</span>
                                                <input 
                                                    type="number" 
                                                    id="priceMin" 
                                                    class="form-input" 
                                                    placeholder="最低价"
                                                    step="0.01"
                                                    value="2.50"
                                                >
                                            </div>
                                            <span style="display: flex; align-items: center;">至</span>
                                            <div class="price-input">
                                                <span class="price-prefix">$</span>
                                                <input 
                                                    type="number" 
                                                    id="priceMax" 
                                                    class="form-input" 
                                                    placeholder="最高价"
                                                    step="0.01"
                                                    value="5.00"
                                                >
                                            </div>
                                        </div>
                                        <div class="form-help">价格区间有助于匹配预算相符的买家</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label required" for="moq">最小订购量 (MOQ)</label>
                                        <input 
                                            type="number" 
                                            id="moq" 
                                            class="form-input" 
                                            placeholder="请输入最小订购数量"
                                            value="1000"
                                            required
                                        >
                                        <div class="form-help">最小订购数量，单位：件</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 产品图片 -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-icon">📸</span>
                                    产品图片
                                </h3>
                                
                                <div class="upload-area" onclick="document.getElementById('productImages').click()">
                                    <div class="upload-icon">📷</div>
                                    <div class="upload-text">点击上传产品图片</div>
                                    <div class="upload-subtext">支持 JPG、PNG 格式，单个文件不超过 5MB，最多上传 10 张</div>
                                    <input 
                                        type="file" 
                                        id="productImages" 
                                        class="file-input" 
                                        multiple 
                                        accept="image/*"
                                        onchange="handleFileUpload(this)"
                                    >
                                </div>
                                
                                <div class="uploaded-files" id="uploadedFiles">
                                    <!-- 示例已上传文件 -->
                                    <div class="file-item">
                                        <div class="file-icon">🖼️</div>
                                        <div class="file-info">
                                            <div class="file-name">LED灯泡主图.jpg</div>
                                            <div class="file-size">2.3 MB</div>
                                        </div>
                                        <div class="file-actions">
                                            <button type="button" class="file-action-btn" title="预览">👁️</button>
                                            <button type="button" class="file-action-btn delete" title="删除">🗑️</button>
                                        </div>
                                    </div>
                                    
                                    <div class="file-item">
                                        <div class="file-icon">🖼️</div>
                                        <div class="file-info">
                                            <div class="file-name">LED灯泡规格图.png</div>
                                            <div class="file-size">1.8 MB</div>
                                        </div>
                                        <div class="file-actions">
                                            <button type="button" class="file-action-btn" title="预览">👁️</button>
                                            <button type="button" class="file-action-btn delete" title="删除">🗑️</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 认证信息 -->
                            <div class="form-section">
                                <h3 class="section-title">
                                    <span class="section-icon">🏆</span>
                                    认证资质
                                </h3>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label" for="certifications">产品认证</label>
                                        <input 
                                            type="text" 
                                            id="certifications" 
                                            class="form-input" 
                                            placeholder="如：CE, RoHS, FCC, UL等"
                                            value="CE, RoHS, FCC"
                                        >
                                        <div class="form-help">产品已获得的认证，用逗号分隔</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label" for="warranty">质保期</label>
                                        <select id="warranty" class="form-select">
                                            <option value="">请选择质保期</option>
                                            <option value="6months">6个月</option>
                                            <option value="1year" selected>1年</option>
                                            <option value="2years">2年</option>
                                            <option value="3years">3年</option>
                                            <option value="5years">5年</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </form>
                        
                        <!-- AI建议 -->
                        <div class="ai-suggestions">
                            <h3>🤖 AI 优化建议</h3>
                            <ul class="suggestion-list">
                                <li class="suggestion-item" onclick="applySuggestion(this)">
                                    建议在产品描述中突出"智能控制"特性，这是海外买家关注的热点
                                </li>
                                <li class="suggestion-item" onclick="applySuggestion(this)">
                                    推荐补充产品的能效等级信息，欧美市场对节能产品需求较高
                                </li>
                                <li class="suggestion-item" onclick="applySuggestion(this)">
                                    建议上传产品使用场景图片，有助于买家了解应用效果
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- 表单操作 -->
                    <div class="form-actions">
                        <div class="form-actions-left">
                            <button type="button" class="btn-save-draft">
                                💾 保存草稿
                            </button>
                        </div>
                        <div class="form-actions-right">
                            <button type="button" class="btn btn-secondary" onclick="goBack()">
                                ← 上一步
                            </button>
                            <button type="button" class="btn-continue" onclick="submitForm()">
                                开始AI分析 →
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script>
        // 分类选择
        function selectCategory(element, category) {
            document.querySelectorAll('.category-option').forEach(option => {
                option.classList.remove('selected');
            });
            element.classList.add('selected');
        }
        
        // 文件上传处理
        function handleFileUpload(input) {
            const files = Array.from(input.files);
            const uploadedFiles = document.getElementById('uploadedFiles');
            
            files.forEach(file => {
                if (file.size > 5 * 1024 * 1024) {
                    alert('文件大小不能超过 5MB');
                    return;
                }
                
                const fileItem = createFileItem(file);
                uploadedFiles.appendChild(fileItem);
            });
            
            // 清空输入框以便再次选择相同文件
            input.value = '';
        }
        
        function createFileItem(file) {
            const fileItem = document.createElement('div');
            fileItem.className = 'file-item';
            
            const fileSize = (file.size / (1024 * 1024)).toFixed(1);
            
            fileItem.innerHTML = `
                <div class="file-icon">🖼️</div>
                <div class="file-info">
                    <div class="file-name">${file.name}</div>
                    <div class="file-size">${fileSize} MB</div>
                </div>
                <div class="file-actions">
                    <button type="button" class="file-action-btn" title="预览">👁️</button>
                    <button type="button" class="file-action-btn delete" onclick="removeFile(this)" title="删除">🗑️</button>
                </div>
            `;
            
            return fileItem;
        }
        
        function removeFile(button) {
            const fileItem = button.closest('.file-item');
            fileItem.remove();
        }
        
        // 拖拽上传
        const uploadArea = document.querySelector('.upload-area');
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            this.classList.add('dragover');
        });
        
        uploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
        });
        
        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            this.classList.remove('dragover');
            
            const files = Array.from(e.dataTransfer.files);
            const fileInput = document.getElementById('productImages');
            
            // 创建新的FileList
            const dt = new DataTransfer();
            files.forEach(file => dt.items.add(file));
            fileInput.files = dt.files;
            
            handleFileUpload(fileInput);
        });
        
        // AI建议应用
        function applySuggestion(element) {
            element.style.opacity = '0.6';
            element.style.textDecoration = 'line-through';
            
            // 模拟应用建议
            setTimeout(() => {
                element.style.display = 'none';
            }, 1000);
        }
        
        // 表单验证
        function validateForm() {
            let isValid = true;
            const requiredFields = document.querySelectorAll('[required]');
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.classList.add('input-error');
                    isValid = false;
                } else {
                    field.classList.remove('input-error');
                }
            });
            
            return isValid;
        }
        
        // 提交表单
        function submitForm() {
            if (!validateForm()) {
                alert('请填写所有必填项');
                return;
            }
            
            const button = document.querySelector('.btn-continue');
            button.disabled = true;
            button.innerHTML = '<span class="loading"></span> AI分析中...';
            
            // 模拟提交过程
            setTimeout(() => {
                alert('产品信息已提交，AI正在分析中...');
                // window.location.href = 'recommendations.html';
            }, 2000);
        }
        
        // 返回上一步
        function goBack() {
            window.history.back();
        }
        
        // 保存草稿
        document.querySelector('.btn-save-draft').addEventListener('click', function() {
            this.innerHTML = '✓ 已保存';
            this.style.background = var(--success-color);
            this.style.color = 'white';
            
            setTimeout(() => {
                this.innerHTML = '💾 保存草稿';
                this.style.background = 'white';
                this.style.color = var(--gray-700);
            }, 2000);
        });
        
        // 实时表单验证
        document.querySelectorAll('.form-input, .form-textarea, .form-select').forEach(field => {
            field.addEventListener('blur', function() {
                if (this.hasAttribute('required') && !this.value.trim()) {
                    this.classList.add('input-error');
                } else {
                    this.classList.remove('input-error');
                }
            });
            
            field.addEventListener('input', function() {
                if (this.classList.contains('input-error') && this.value.trim()) {
                    this.classList.remove('input-error');
                }
                
                updateProgress();
            });
        });
        
        // 更新进度
        function updateProgress() {
            const totalFields = document.querySelectorAll('.form-input, .form-textarea, .form-select').length;
            const filledFields = Array.from(document.querySelectorAll('.form-input, .form-textarea, .form-select'))
                .filter(field => field.value.trim()).length;
            
            const progress = Math.round((filledFields / totalFields) * 100);
            const progressFill = document.querySelector('.progress-fill');
            const progressText = document.querySelector('.progress-text');
            
            progressFill.style.width = progress + '%';
            progressText.textContent = `完成度 ${progress}%`;
        }
        
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            
            // 自动聚焦到第一个输入框
            const firstInput = document.querySelector('.form-input');
            if (firstInput) {
                firstInput.focus();
            }
        });
    </script>
</body>
</html>